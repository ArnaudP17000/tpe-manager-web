================================================================================\nGUIDE D'INSTALLATION COMPLET - TPE MANAGER WEB\nPour Linux avec Portainer + Nginx Proxy Manager\n================================================================================\n\nüìã PR√âREQUIS\n================================================================================\n\n1. Serveur Linux (Debian/Ubuntu recommand√©)\n2. Acc√®s root ou sudo\n3. Connexion Internet\n4. Nom de domaine configur√© (ex: tpe.example.com)\n\n‚ö†Ô∏è  Ce guide suppose que Portainer et Nginx Proxy Manager sont d√©j√† install√©s\n\n\n================================================================================\n√âTAPE 1 : V√âRIFIER L'ENVIRONNEMENT\n================================================================================\n\n1.1 Connexion SSH au serveur\n-----------------------------\nssh votre-utilisateur@votre-serveur-ip\n\n\n1.2 V√©rifier Docker\n--------------------\ndocker --version\ndocker compose version\n\nSi Docker n'est pas install√©, le script l'installera automatiquement.\n\n\n1.3 V√©rifier Portainer\n----------------------\ndocker ps | grep portainer\n\nVous devriez voir le conteneur Portainer en cours d'ex√©cution.\n\n\n1.4 V√©rifier Nginx Proxy Manager\n---------------------------------\ndocker ps | grep nginx-proxy-manager\n\nVous devriez voir les conteneurs NPM en cours d'ex√©cution.\n\n\n1.5 V√©rifier le r√©seau Docker pour NPM\n---------------------------------------\ndocker network ls | grep proxy\n\nSi le r√©seau "proxy" n'existe pas, notez le nom du r√©seau utilis√© par NPM\n(g√©n√©ralement: nginx-proxy-manager_default ou npm_default)\n\n\n================================================================================\n√âTAPE 2 : T√âL√âCHARGER LE PROJET\n================================================================================\n\n2.1 T√©l√©charger le script d'installation\n-----------------------------------------\ncd /tmp\nwget https://raw.githubusercontent.com/ArnaudP17000/tpe-manager-web/main/install-custom.sh\n\n\n2.2 Rendre le script ex√©cutable\n--------------------------------\nchmod +x install-custom.sh\n\n\n2.3 V√©rifier le contenu (optionnel)\n------------------------------------\nless install-custom.sh\n(Appuyez sur 'q' pour quitter)\n\n\n================================================================================\n√âTAPE 3 : EX√âCUTER L'INSTALLATION\n================================================================================\n\n3.1 Lancer le script en mode sudo\n----------------------------------\nsudo ./install-custom.sh\n\nLe script va :\n‚úÖ V√©rifier Docker et Docker Compose (installer si n√©cessaire)\n‚úÖ Cr√©er la structure /docker/tpe-manager/\n‚úÖ G√©n√©rer tous les fichiers (backend, frontend, docker-compose)\n‚úÖ Cr√©er un fichier .env avec mots de passe s√©curis√©s\n‚úÖ Cr√©er le r√©seau Docker "proxy"\n‚úÖ Builder les images Docker\n‚úÖ D√©marrer tous les services\n‚úÖ Cr√©er les utilisateurs admin et user\n\n‚è±Ô∏è  Dur√©e estim√©e: 5-10 minutes\n\n\n3.2 Pendant l'installation\n---------------------------\nSurveillez les messages pour d√©tecter d'√©ventuelles erreurs.\nLe script affichera des ‚úÖ pour chaque √©tape r√©ussie.\n\n\n3.3 Fin de l'installation\n--------------------------\n√Ä la fin, le script affichera :\n- Les chemins d'installation\n- Les mots de passe g√©n√©r√©s (notez-les !)\n- Les instructions pour Nginx Proxy Manager\n- Les comptes par d√©faut\n\n\n================================================================================\n√âTAPE 4 : V√âRIFIER L'INSTALLATION\n================================================================================\n\n4.1 V√©rifier les conteneurs\n----------------------------\ncd /docker/tpe-manager\ndocker compose ps\n\nVous devriez voir 3 conteneurs "healthy" :\n- tpe-database\n- tpe-backend  \n- tpe-frontend\n\n\n4.2 V√©rifier les logs\n----------------------\ndocker compose logs tpe-backend\ndocker compose logs tpe-frontend\n\nV√©rifiez qu'il n'y a pas d'erreurs critiques.\n\n\n4.3 Tester l'API backend (depuis le serveur)\n---------------------------------------------\ncurl http://localhost:8000/health\n\nR√©ponse attendue: {"status":"healthy","version":"2.0.0"}\n\n\n4.4 V√©rifier les dossiers cr√©√©s\n--------------------------------\nls -la /docker/tpe-manager/\nls -la /docker/tpe-manager/data/\n\nStructure attendue:/docker/tpe-manager/\n‚îú‚îÄ‚îÄ docker-compose.yml\n‚îú‚îÄ‚îÄ .env\n‚îú‚îÄ‚îÄ backend/\n‚îú‚îÄ‚îÄ frontend/\n‚îî‚îÄ‚îÄ data/\n    ‚îú‚îÄ‚îÄ postgres/\n    ‚îú‚îÄ‚îÄ uploads/\n    ‚îú‚îÄ‚îÄ exports/\n    ‚îú‚îÄ‚îÄ logs/\n    ‚îî‚îÄ‚îÄ backups/\n\n\n================================================================================\n√âTAPE 5 : CONFIGURER LES NOMS DE DOMAINE\n================================================================================\n\n5.1 Configurer les enregistrements DNS\n---------------------------------------\nChez votre fournisseur DNS (OVH, Cloudflare, etc.), cr√©ez :\n\nType A:\ntpe.example.com           ‚Üí IP_DE_VOTRE_SERVEUR\ntpe-api.example.com       ‚Üí IP_DE_VOTRE_SERVEUR\n\n‚è±Ô∏è  Propagation DNS: 5 minutes √† 24 heures\n\n\n5.2 V√©rifier la r√©solution DNS\n-------------------------------\nping tpe.example.com\nping tpe-api.example.com\n\nLes deux doivent pointer vers l'IP de votre serveur.\n\n\n================================================================================\n√âTAPE 6 : MODIFIER LE FICHIER .ENV\n================================================================================\n\n6.1 √âditer le fichier .env\n---------------------------\nnano /docker/tpe-manager/.env\n\n\n6.2 Modifier les domaines\n--------------------------\nRemplacez "example.com" par votre vrai domaine :\n\nCORS_ORIGINS=https://tpe.VOTRE-DOMAINE.com,https://tpe-api.VOTRE-DOMAINE.com\nREACT_APP_API_URL=https://tpe-api.VOTRE-DOMAINE.com\n\n\n6.3 V√©rifier les mots de passe g√©n√©r√©s\n---------------------------------------\nPOSTGRES_PASSWORD=XXXXXXXXXX (g√©n√©r√© automatiquement)\nSECRET_KEY=XXXXXXXXXX (g√©n√©r√© automatiquement)\n\n‚ö†Ô∏è  Notez ces mots de passe dans un gestionnaire de mots de passe !\n\n\n6.4 Sauvegarder\n---------------\nCtrl + O (√©crire)\nEntr√©e (confirmer)\nCtrl + X (quitter)\n\n\n6.5 Red√©marrer les services\n----------------------------\ncd /docker/tpe-manager\ndocker compose down\ndocker compose up -d\n\n\n================================================================================\n√âTAPE 7 : CONFIGURER NGINX PROXY MANAGER\n================================================================================\n\n7.1 Acc√©der √† Nginx Proxy Manager\n----------------------------------\nOuvrez votre navigateur :\nhttp://IP_DE_VOTRE_SERVEUR:81\n\nIdentifiants par d√©faut (si premi√®re installation) :\nEmail: admin@example.com\nPassword: changeme\n\n‚ö†Ô∏è  Changez ces identifiants imm√©diatement !\n\n\n7.2 Cr√©er le Proxy Host pour le FRONTEND\n-----------------------------------------\n1. Cliquez sur "Proxy Hosts" dans le menu\n2. Cliquez sur "Add Proxy Host"\n3. Remplissez :\n\n   Onglet "Details":\n   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n   ‚îÇ Domain Names:                           ‚îÇ\n   ‚îÇ tpe.VOTRE-DOMAINE.com                  ‚îÇ\n   ‚îÇ                                         ‚îÇ\n   ‚îÇ Scheme: http                            ‚îÇ\n   ‚îÇ Forward Hostname/IP: tpe-frontend       ‚îÇ\n   ‚îÇ Forward Port: 80                        ‚îÇ\n   ‚îÇ                                         ‚îÇ\n   ‚îÇ ‚úÖ Cache Assets                         ‚îÇ\n   ‚îÇ ‚úÖ Block Common Exploits                ‚îÇ\n   ‚îÇ ‚úÖ Websockets Support                   ‚îÇ\n   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n   Onglet "SSL":\n   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n   ‚îÇ SSL Certificate: Request a new SSL      ‚îÇ\n   ‚îÇ                  Certificate            ‚îÇ\n   ‚îÇ                                         ‚îÇ\n   ‚îÇ ‚úÖ Force SSL                            ‚îÇ\n   ‚îÇ ‚úÖ HTTP/2 Support                       ‚îÇ\n   ‚îÇ ‚úÖ HSTS Enabled                         ‚îÇ\n   ‚îÇ ‚úÖ HSTS Subdomains                      ‚îÇ\n   ‚îÇ                                         ‚îÇ\n   ‚îÇ Email for Let's Encrypt:                ‚îÇ\n   ‚îÇ votre-email@example.com                 ‚îÇ\n   ‚îÇ                                         ‚îÇ\n   ‚îÇ ‚úÖ I Agree to the Let's Encrypt Terms   ‚îÇ\n   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n4. Cliquez sur "Save"\n\n‚è±Ô∏è  Le certificat SSL sera g√©n√©r√© automatiquement (30 secondes)\n\n\n7.3 Cr√©er le Proxy Host pour le BACKEND API\n--------------------------------------------\n1. Cliquez sur "Add Proxy Host"\n2. Remplissez :\n\n   Onglet "Details":\n   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n   ‚îÇ Domain Names:                           ‚îÇ\n   ‚îÇ tpe-api.VOTRE-DOMAINE.com              ‚îÇ\n   ‚îÇ                                         ‚îÇ\n   ‚îÇ Scheme: http                            ‚îÇ\n   ‚îÇ Forward Hostname/IP: tpe-backend        ‚îÇ\n   ‚îÇ Forward Port: 8000                      ‚îÇ\n   ‚îÇ                                         ‚îÇ\n   ‚îÇ ‚ùå Cache Assets (d√©sactiv√©)            ‚îÇ\n   ‚îÇ ‚úÖ Block Common Exploits                ‚îÇ\n   ‚îÇ ‚úÖ Websockets Support                   ‚îÇ\n   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n   Onglet "SSL":\n   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n   ‚îÇ SSL Certificate: Request a new SSL      ‚îÇ\n   ‚îÇ                  Certificate            ‚îÇ\n   ‚îÇ                                         ‚îÇ\n   ‚îÇ ‚úÖ Force SSL                            ‚îÇ\n   ‚îÇ ‚úÖ HTTP/2 Support                       ‚îÇ\n   ‚îÇ ‚úÖ HSTS Enabled                         ‚îÇ\n   ‚îÇ                                         ‚îÇ\n   ‚îÇ Email: votre-email@example.com          ‚îÇ\n   ‚îÇ ‚úÖ I Agree to the Let's Encrypt Terms   ‚îÇ\n   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n   Onglet "Advanced" (optionnel mais recommand√©):\n   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n   ‚îÇ Custom Nginx Configuration:             ‚îÇ\n   ‚îÇ                                         ‚îÇ\n   ‚îÇ # Timeouts pour exports Excel           ‚îÇ\n   ‚îÇ proxy_connect_timeout 600;              ‚îÇ\n   ‚îÇ proxy_send_timeout 600;                 ‚îÇ\n   ‚îÇ proxy_read_timeout 600;                 ‚îÇ\n   ‚îÇ send_timeout 600;                       ‚îÇ\n   ‚îÇ                                         ‚îÇ\n   ‚îÇ # Taille max upload                     ‚îÇ\n   ‚îÇ client_max_body_size 20M;               ‚îÇ\n   ‚îÇ                                         ‚îÇ\n   ‚îÇ # Headers de s√©curit√©                   ‚îÇ\n   ‚îÇ add_header X-Frame-Options              ‚îÇ\n   ‚îÇ   "SAMEORIGIN" always;                  ‚îÇ\n   ‚îÇ add_header X-Content-Type-Options       ‚îÇ\n   ‚îÇ   "nosniff" always;                     ‚îÇ\n   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n3. Cliquez sur "Save"\n\n\n7.4 V√©rifier les Proxy Hosts\n-----------------------------\nVous devriez voir 2 proxy hosts :\n- tpe.VOTRE-DOMAINE.com ‚Üí tpe-frontend:80 (SSL actif)\n- tpe-api.VOTRE-DOMAINE.com ‚Üí tpe-backend:8000 (SSL actif)\n\n\n================================================================================\n√âTAPE 8 : TESTER L'APPLICATION\n================================================================================\n\n8.1 Tester le Frontend\n-----------------------\nOuvrez votre navigateur :\nhttps://tpe.VOTRE-DOMAINE.com\n\nVous devriez voir :\n‚úÖ Page d'accueil TPE Manager\n‚úÖ Pas d'erreur SSL\n‚úÖ Cadenas vert dans la barre d'adresse\n\n\n8.2 Tester l'API Backend\n-------------------------\nOuvrez votre navigateur :\nhttps://tpe-api.VOTRE-DOMAINE.com/docs\n\nVous devriez voir :\n‚úÖ Documentation Swagger de l'API\n‚úÖ Liste des endpoints disponibles\n\n\n8.3 Tester le endpoint de sant√©\n--------------------------------\nhttps://tpe-api.VOTRE-DOMAINE.com/health\n\nR√©ponse attendue:\n{"status":"healthy","version":"2.0.0"}\n\n\n8.4 Tester la connexion\n------------------------\n1. Sur https://tpe.VOTRE-DOMAINE.com\n2. Cliquez sur "Login" (si disponible)\n3. Utilisez les identifiants par d√©faut :\n\n   Admin:\n   Username: admin\n   Password: admin123\n\n   Ou User:\n   Username: user\n   Password: user123\n\n\n================================================================================\n√âTAPE 9 : CONFIGURATION DANS PORTAINER (OPTIONNEL)\n================================================================================\n\nSi vous voulez g√©rer le stack depuis Portainer :\n\n9.1 Acc√©der √† Portainer\n------------------------\nhttps://portainer.VOTRE-DOMAINE.com (ou http://IP:9000)\n\n\n9.2 Ajouter le stack existant\n------------------------------\n1. Menu "Stacks"\n2. "Add stack"\n3. Name: tpe-manager\n4. Build method: "Upload from your computer"\n5. Uploadez : /docker/tpe-manager/docker-compose.yml\n6. Environment variables : copiez le contenu de .env\n7. Deploy the stack\n\n\n9.3 G√©rer le stack\n------------------\nVous pouvez maintenant depuis Portainer :\n- Voir les logs\n- Red√©marrer les conteneurs\n- Voir les statistiques\n\n\n================================================================================\n√âTAPE 10 : S√âCURIT√â ET MAINTENANCE\n================================================================================\n\n10.1 Changer les mots de passe par d√©faut\n------------------------------------------\n‚ö†Ô∏è  IMPORTANT : Les comptes admin/user utilisent des mots de passe par d√©faut !\n\nOption 1 : Via l'interface web (une fois connect√©)\nOption 2 : Via la base de donn√©es (voir section 10.5)\n\n\n10.2 Sauvegarder la base de donn√©es\n------------------------------------\ncd /docker/tpe-manager\n\n# Backup manuel\ndocker exec tpe-database pg_dump -U tpe_admin tpe_manager \n  > data/backups/backup_$(date +%Y%m%d_%H%M%S).sql\n\n# Ou avec make\nmake backup\n\n\n10.3 Cr√©er une t√¢che cron pour backup automatique\n--------------------------------------------------\ncrontab -e\n\nAjoutez :\n# Backup quotidien √† 2h du matin\n0 2 * * * cd /docker/tpe-manager && make backup\n\n# Nettoyage des backups de plus de 30 jours\n0 3 * * * find /docker/tpe-manager/data/backups -name "*.sql" -mtime +30 -delete\n\n\n10.4 Restaurer une sauvegarde\n------------------------------\ncd /docker/tpe-manager\n\n# Lister les backups\nls -lh data/backups/\n\n# Restaurer\ncat data/backups/backup_YYYYMMDD_HHMMSS.sql | \n  docker exec -i tpe-database psql -U tpe_admin -d tpe_manager\n\n\n10.5 Changer le mot de passe admin via la base\n-----------------------------------------------\n# G√©n√©rer un hash bcrypt du nouveau mot de passe\ndocker exec -it tpe-backend python3 -c \n  "from passlib.context import CryptContext; \n   pwd_context = CryptContext(schemes=['bcrypt']); \n   print(pwd_context.hash('VOTRE_NOUVEAU_MOT_DE_PASSE'))"\n\n# Copier le hash g√©n√©r√©, puis :\ndocker exec -it tpe-database psql -U tpe_admin -d tpe_manager\n\n# Dans psql :\nUPDATE users  \nSET hashed_password = 'LE_HASH_COPI√â'  \nWHERE username = 'admin';\n\n# Quitter psql\n\q\n\n\n10.6 Surveiller les logs\n-------------------------\n# Logs en temps r√©el\ndocker compose -f /docker/tpe-manager/docker-compose.yml logs -f\n\n# Logs d'un service sp√©cifique\ndocker compose -f /docker/tpe-manager/docker-compose.yml logs -f tpe-backend\n\n\n10.7 Mettre √† jour l'application\n---------------------------------\ncd /docker/tpe-manager\n\n# Sauvegarder avant la mise √† jour\nmake backup\n\n# T√©l√©charger les mises √† jour\ngit pull origin main\n\n# Reconstruire et red√©marrer\ndocker compose build --no-cache\ndocker compose up -d\n\n\n================================================================================\n√âTAPE 11 : D√âPANNAGE\n================================================================================\n\n11.1 Les conteneurs ne d√©marrent pas\n-------------------------------------\n# V√©rifier les logs\ndocker compose logs\n\n# V√©rifier l'√©tat\ndocker compose ps\n\n# Red√©marrer proprement\ndocker compose down\ndocker compose up -d\n\n\n11.2 Erreur "network proxy not found"\n--------------------------------------\n# Cr√©er le r√©seau manuellement\ndocker network create proxy\n\n# Ou adapter le nom dans docker-compose.yml :\nnano /docker/tpe-manager/docker-compose.yml\n\nChangez la ligne :\n    name: ${PROXY_NETWORK:-proxy}\nPar :\n    name: nginx-proxy-manager_default\n\n\n11.3 SSL ne fonctionne pas\n---------------------------\nV√©rifiez :\n1. DNS correctement configur√© (ping tpe.example.com)\n2. Port 80 et 443 ouverts dans le firewall\n3. Logs NPM : docker logs nginx-proxy-manager\n\n\n11.4 Erreur de connexion √† la base de donn√©es\n----------------------------------------------\n# V√©rifier que PostgreSQL est d√©marr√©\ndocker ps | grep tpe-database\n\n# V√©rifier les logs\ndocker logs tpe-database\n\n# Red√©marrer la base\ndocker compose restart tpe-db\n\n\n11.5 Frontend ne se connecte pas au Backend\n--------------------------------------------\n# V√©rifier le fichier .env\ncat /docker/tpe-manager/.env | grep REACT_APP_API_URL\n\nDoit √™tre : https://tpe-api.VOTRE-DOMAINE.com\n\n# Reconstruire le frontend si modifi√©\ndocker compose build tpe-frontend --no-cache\ndocker compose up -d tpe-frontend\n\n\n11.6 Probl√®me de permissions\n-----------------------------\n# R√©parer les permissions\nsudo chown -R 1000:1000 /docker/tpe-manager/data\nsudo chmod -R 755 /docker/tpe-manager/data\n\n\n================================================================================\n√âTAPE 12 : COMMANDES UTILES\n================================================================================\n\n# Aller dans le dossier du projet\ncd /docker/tpe-manager\n\n# Voir l'√©tat des services\ndocker compose ps\n\n# Voir les logs en temps r√©el\ndocker compose logs -f\n\n# Red√©marrer un service\ndocker compose restart tpe-backend\n\n# Red√©marrer tous les services\ndocker compose restart\n\n# Arr√™ter tous les services\ndocker compose down\n\n# D√©marrer tous les services\ndocker compose up -d\n\n# Reconstruire les images\ndocker compose build --no-cache\n\n# Voir l'utilisation des ressources\ndocker stats\n\n# Entrer dans un conteneur\ndocker exec -it tpe-backend bash\ndocker exec -it tpe-database psql -U tpe_admin -d tpe_manager\n\n# Backup\nmake backup\n\n# Voir toutes les commandes make\nmake help\n\n\n================================================================================\nR√âCAPITULATIF DES URLS\n================================================================================\n\nFrontend:         https://tpe.VOTRE-DOMAINE.com\nAPI Backend:      https://tpe-api.VOTRE-DOMAINE.com\nAPI Docs:         https://tpe-api.VOTRE-DOMAINE.com/docs\nAPI Health:       https://tpe-api.VOTRE-DOMAINE.com/health\nNginx Proxy Mgr:  http://IP_SERVEUR:81\nPortainer:        http://IP_SERVEUR:9000 ou https://portainer.VOTRE-DOMAINE.com\n\n\n================================================================================\nCOMPTES PAR D√âFAUT\n================================================================================\n\nAdmin:\nUsername: admin\nPassword: admin123\n\nUser:\nUsername: user\nPassword: user123\n\n‚ö†Ô∏è  CHANGEZ CES MOTS DE PASSE IMM√âDIATEMENT APR√àS LA PREMI√àRE CONNEXION !\n\n\n================================================================================\nSUPPORT ET RESSOURCES\n================================================================================\n\nRepository GitHub:\nhttps://github.com/ArnaudP17000/tpe-manager-web\n\nDocumentation Docker Compose:\nhttps://docs.docker.com/compose/\n\nDocumentation Nginx Proxy Manager:\nhttps://nginxproxymanager.com/guide/\n\nDocumentation Portainer:\nhttps://docs.portainer.io/\n\n\n================================================================================\nNOTES IMPORTANTES\n================================================================================\n\n‚úÖ Toujours faire un backup avant une modification majeure\n‚úÖ Surveillez les logs r√©guli√®rement\n‚úÖ Mettez √† jour Docker et les images r√©guli√®rement\n‚úÖ Gardez vos mots de passe en s√©curit√©\n‚úÖ Utilisez des mots de passe forts en production\n‚úÖ Configurez des backups automatiques\n‚úÖ Testez les restaurations de backup r√©guli√®rement\n\n\n================================================================================\nFIN DU GUIDE\n================================================================================\n\nF√©licitations ! Votre application TPE Manager est maintenant install√©e et\nconfigur√©e avec Portainer et Nginx Proxy Manager.\n\nPour toute question ou probl√®me, consultez les logs ou cr√©ez une issue sur\nGitHub.\n\nBonne utilisation ! üéâ